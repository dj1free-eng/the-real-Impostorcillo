<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>El Impostorcillo - Suma Cum Laude</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<link rel="stylesheet" href="style.css">

</head>
<body>
  <div class="app">
    <div class="card">

  <div class="top-controls">
    <button class="icon-btn" onclick="toggleDarkMode()" title="Modo oscuro">ğŸŒ™</button>
    <button class="icon-btn" onclick="toggleSound()" title="Sonido" id="soundBtn">ğŸ”Š</button>
    <button class="icon-btn" onclick="goToSetup()" title="MenÃº">â‰¡</button>
  </div>

  <div id="screen-start" class="screen">
    <div class="hero-illustration">
      <div class="emoji">ğŸ•µï¸</div>
    </div>

    <h1>El Impostorcillo</h1>
    <p class="center">
      El juego social de deducciÃ³n y engaÃ±o.<br>
      Â¡Intenta no parecer sospechoso!
    </p>

    <button onclick="goToSetup()">Nueva partida</button>
    <button class="secondary" onclick="showTutorial()">Tutorial</button>
    <button class="secondary" onclick="showStats()">EstadÃ­sticas</button>
    <p class="small">VersiÃ³n 2.0.1 - Suma Cum Laude Edition (Mejorada)</p>
  </div>

  <div id="screen-setup" class="screen hidden">
    <div class="title-row">
      <div class="title-icon">âš™ï¸</div>
      <h2>ConfiguraciÃ³n</h2>
    </div>

    <label>Modo de juego</label>
    <div class="game-mode-selector">
      <div class="mode-card selected" onclick="selectMode('classic')" data-mode="classic">
        <div class="emoji">ğŸ­</div>
        <div class="title">ClÃ¡sico</div>
      </div>
      <div class="mode-card" onclick="selectMode('mrwhite')" data-mode="mrwhite">
        <div class="emoji">ğŸ‘¥</div>
        <div class="title">Mr. White</div>
      </div>
      <div class="mode-card" onclick="selectMode('expert')" data-mode="expert">
        <div class="emoji">ğŸ“</div>
        <div class="title">Experto</div>
      </div>
      <div class="mode-card" onclick="selectMode('rapid')" data-mode="rapid">
        <div class="emoji">âš¡</div>
        <div class="title">RÃ¡pido</div>
      </div>
    </div>

    <label for="selectPlayers">NÃºmero de jugadores</label>
    <select id="selectPlayers">
      <option value="3" selected>3 jugadores</option>
      <option value="4">4 jugadores</option>
      <option value="5">5 jugadores</option>
      <option value="6">6 jugadores</option>
      <option value="7">7 jugadores</option>
      <option value="8">8 jugadores</option>
      <option value="9">9 jugadores</option>
      <option value="10">10 jugadores</option>
    </select>

    <label>Nombre de los jugadores</label>
    <div id="playerNamesContainer"></div>

    <label for="selectCategory">CategorÃ­a</label>
    <select id="selectCategory">
      <option value="aleatorio">ğŸ² Aleatorio</option>
      <option value="comida">ğŸ• Comida</option>
      <option value="animales">ğŸ¦ Animales</option>
      <option value="objetos">ğŸ“¦ Objetos</option>
      <option value="sitios">ğŸ›ï¸ Sitios</option>
      <option value="deportes">âš½ Deportes</option>
      <option value="videojuegos">ğŸ® Videojuegos</option>
      <option value="transportes">ğŸš— Transportes</option>
      <option value="peliculas">ğŸ¬ PelÃ­culas</option>
      <option value="profesiones">ğŸ‘¨â€âš•ï¸ Profesiones</option>
      <option value="paises">ğŸŒ PaÃ­ses</option>
    </select>

    <label>
      <input type="checkbox" id="timerEnabled" checked> Temporizador activado
    </label>

    <button onclick="startGame()">Empezar</button>
    <button class="secondary" onclick="backToStart()">Volver</button>
  </div>

  <div id="screen-role" class="screen hidden">
    <div class="role-badge-row">
      <span class="badge" id="playerOrder"></span>
    </div>
    <h2 id="playerNameBig" class="player-name-big"></h2>

    <div class="card-slider">
      <div class="card-back">
        <div class="card-back-content">
          <div class="avatar-overlay">
            <span id="backAvatar">ğŸ˜</span>
          </div>
          <h3 id="roleTitle"></h3>
          <div id="roleWord"></div>
          <p class="role-tip" id="roleTip"></p>
        </div>
      </div>

      <div class="card-front" id="cardFront">
        <div class="avatar-overlay">
          <span id="frontAvatar">ğŸ˜</span>
        </div>
        <p class="slide-text">Desliza hacia arriba para ver tu rol</p>
      </div>
    </div>

    <p id="instructionText" class="small"></p>

    <button id="toggleRoleBtn" class="secondary" style="width:90%;max-width:340px;margin:10px auto 0;display:block;">
      Mostrar rol
    </button>

    <button id="nextPlayerBtn" class="secondary hidden" onclick="nextPlayer()">
      Jugador siguiente
    </button>
  </div>

  <div id="screen-debate" class="screen hidden">
    <h2>ğŸ’¬ Debate</h2>
    <p id="starterInfo" class="center"></p>

    <div class="timer-container" id="timerContainer" style="display: none;">
      <p class="small">â±ï¸ Tiempo restante</p>
      <div class="timer-display" id="timerDisplay">3:00</div>
      <div class="timer-controls">
        <button onclick="pauseTimer()">â¸ï¸ Pausar</button>
        <button onclick="resetTimer()">ğŸ”„ Reiniciar</button>
        <button onclick="addTime()">â• +1min</button>
      </div>
    </div>

    <p class="center">
      Cada jugador da una pista sobre la palabra.<br>
      Comentad, defendedos y acusad al sospechoso.
    </p>

    <button onclick="startVoting()">Iniciar votaciÃ³n</button>
  </div>

  <div id="screen-voting" class="screen hidden">
    <h2>ğŸ—³ï¸ VotaciÃ³n</h2>
    <p class="center" id="votingInstruction">Jugador **X**: Â¿A quiÃ©n vas a votar?</p>
    
    <div class="voting-grid" id="votingGrid"></div>

    <p class="small" id="voteStatus">0 de 0 votos emitidos</p>

    <button onclick="revealVotes()" id="revealVotesBtn" style="display: none;">
      Ver resultados
    </button>
  </div>

  <div id="screen-vote-results" class="screen hidden">
    <h2>ğŸ“Š Resultados</h2>
    
    <div class="result-card">
      <div class="result-emoji" id="voteResultEmoji">ğŸ¯</div>
      <h3 id="voteResultText"></h3>
      <p id="voteResultDetail"></p>
    </div>

    <div id="voteBreakdown"></div>

    <button onclick="showReveal()">Revelar palabra secreta</button>
  </div>

  <div id="screen-reveal" class="screen hidden">
    <h2>ğŸ­ RevelaciÃ³n</h2>

    <p class="center">La palabra secreta era:</p>
    <div id="finalWord"></div>

    <p class="center">
      El Impostorcillo era<br>
      <span class="highlight" id="impostorPlayer"></span>
    </p>

    <div class="result-card" id="gameResult">
      <div class="result-emoji" id="finalResultEmoji"></div>
      <h3 id="finalResultText"></h3>
    </div>

    <button onclick="startAnotherRound()">Jugar otra ronda</button>
    <button class="secondary" onclick="backToStart()">Volver al inicio</button>
  </div>

  <div id="screen-stats" class="screen hidden">
    <h2>ğŸ“Š EstadÃ­sticas</h2>

    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value" id="totalGames">0</div>
        <div class="stat-label">Partidas</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="citizenWins">0</div>
        <div class="stat-label">Victoria Ciudadanos</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="impostorWins">0</div>
        <div class="stat-label">Victoria Impostores</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="winRate">0%</div>
        <div class="stat-label">% Victoria Ciudadanos</div>
      </div>
    </div>

    <h3 style="margin-top: 24px;">ğŸ† Top 5 Palabras Jugadas</h3>
    <div id="topWords" style="margin: 16px 0;"></div>

    <button class="danger" onclick="resetStats()">Resetear estadÃ­sticas</button>
    <button class="secondary" onclick="backToStart()">Volver</button>
  </div>

</div>

  </div>

  <div id="tutorialOverlay" class="tutorial-overlay" style="display: none;">
    <div class="tutorial-content">
      <div class="tutorial-step active" data-step="1">
        <div class="tutorial-emoji">ğŸ­</div>
        <h3>Bienvenido a El Impostorcillo</h3>
        <p>Un juego social de deducciÃ³n donde debes encontrar al impostor entre los jugadores.</p>
        <button onclick="nextTutorialStep()">Siguiente</button>
      </div>

  <div class="tutorial-step" data-step="2">
    <div class="tutorial-emoji">ğŸ‘¥</div>
    <h3>Los Roles</h3>
    <p><strong>Ciudadanos:</strong> Conocen la palabra secreta y deben dar pistas.<br><br>
    <strong>Impostorcillo:</strong> No conoce la palabra y debe fingir que sÃ­.</p>
    <button onclick="nextTutorialStep()">Siguiente</button>
  </div>

  <div class="tutorial-step" data-step="3">
    <div class="tutorial-emoji">ğŸ’¬</div>
    <h3>CÃ³mo se Juega</h3>
    <p>1ï¸âƒ£ Cada jugador ve su rol en secreto<br>
    2ï¸âƒ£ Por turnos, dan pistas sobre la palabra<br>
    3ï¸âƒ£ Debaten quiÃ©n es el impostor<br>
    4ï¸âƒ£ Votan al sospechoso</p>
    <button onclick="nextTutorialStep()">Siguiente</button>
  </div>

  <div class="tutorial-step" data-step="4">
    <div class="tutorial-emoji">ğŸ†</div>
    <h3>Victoria</h3>
    <p><strong>Ciudadanos ganan:</strong> Si eliminan al impostorcillo<br><br>
    <strong>Impostor gana:</strong> Si sobrevive la votaciÃ³n o adivina la palabra</p>
    <button onclick="closeTutorial()">Â¡Empezar a jugar!</button>
  </div>
</div>
  </div>

<script src="script.js"></script>


</body>
</html>
